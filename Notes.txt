ğŸ”¹ Senin KullanÄ±m Senaryon

DB Container (3306): MySQL/MariaDB Ã§alÄ±ÅŸÄ±yor. KalÄ±cÄ± veriyi volume (DB) iÃ§inde saklÄ±yorsun.

WordPress+PHP Container (9000): WordPress kodu + PHP-FPM motoru. WordPress volumeâ€™Ã¼nde dosyalarÄ±n duruyor. DBâ€™ye baÄŸlanÄ±p iÃ§erikleri Ã§ekiyor.

NGINX Container (443): Ä°nternetten gelen istekleri karÅŸÄ±lÄ±yor. SSL + statik dosya + reverse proxy iÅŸi yapÄ±yor. KullanÄ±cÄ± aslÄ±nda NGINX ile konuÅŸuyor, arkadaki WordPress+DBâ€™yi gÃ¶rmÃ¼yor.

Ã–zetle:
KullanÄ±cÄ± tarayÄ±cÄ±dan https://seninsite.com â†’ istek NGINXâ€™e (443) â†’ NGINX WordPressâ€™e (9000) â†’ WordPress DBâ€™den (3306) veriyi Ã§ekiyor â†’ geri NGINX â†’ tarayÄ±cÄ±ya cevap.


ğŸ” AÃ§Ä±klama ParÃ§a ParÃ§a
mariadb servisi

build: ./requirements/mariadb â†’ kendi Dockerfileâ€™Ä±nÄ± kullanarak image Ã¼retiyor.

volumes â†’ hostâ€™taki /home/merboyac/data/mariadb klasÃ¶rÃ¼nÃ¼ containerâ€™Ä±n /var/lib/mysql dizinine baÄŸlÄ±yor. Veriler kalÄ±cÄ±.

environment â†’ DB adÄ±, kullanÄ±cÄ± adlarÄ± env var olarak gidiyor.

secrets â†’ ÅŸifreler dosyadan okunuyor, environmentâ€™a direkt yazÄ±lmamÄ±ÅŸ â†’ gÃ¼venli.

restart: always â†’ container dÃ¼ÅŸse bile ayaÄŸa kalkacak.

wordpress servisi

build: ./requirements/wordpress â†’ yine custom image.

volumes â†’ /home/merboyac/data/wordpress â†’ kalÄ±cÄ± WordPress dosyalarÄ±.

environment â†’ DB bilgilerini alÄ±yor, ayrÄ±ca domain ve admin hesabÄ± iÃ§in deÄŸerler.

depends_on: mariadb â†’ DB ayaÄŸa kalkmadan WordPress baÅŸlamÄ±yor.

secrets â†’ DB ÅŸifrelerini buradan Ã§ekiyor.

nginx servisi

build: ./requirements/nginx â†’ custom Dockerfile ile kendi nginx imageâ€™in.

ports â†’ dÄ±ÅŸarÄ±ya aÃ§tÄ±ÄŸÄ±n kapÄ±lar:

443:443 â†’ HTTPS (kullanÄ±cÄ± buradan siteye girer).

80:80 â†’ HTTP (istenirse HTTPSâ€™e redirect).

volumes:

WordPress dosyalarÄ±na eriÅŸim â†’ wordpress_data.

./requirements/nginx/conf.d â†’ kendi NGINX configâ€™lerin (server bloklarÄ±, proxy_pass vs).

./requirements/nginx/certs â†’ SSL sertifikalarÄ± (Letâ€™s Encrypt vs).

depends_on: wordpress â†’ WP Ã§alÄ±ÅŸmadan NGINX ayaÄŸa kalkmaz.

restart: always.

secrets ve volumes

Åifreler dosyalarda saklanÄ±yor.

DB ve WP iÃ§in ayrÄ± volume var. NGINX WPâ€™nin volumeâ€™Ã¼nÃ¼ mount ediyor, bÃ¶ylece PHP-FPMâ€™in iÅŸlediÄŸi dosyalara eriÅŸip servis edebiliyor.

networks

Hepsi inception_net aÄŸÄ±na baÄŸlÄ±. Containerâ€™lar kendi iÃ§inde DNS Ã¼zerinden konuÅŸabiliyor (mariadb, wordpress, nginx).

ğŸ¯ Senin KullanÄ±m Senaryon

Senin ihtiyacÄ±n WordPress blogunu/public siteâ€™ini production gibi gÃ¼venli ve dÃ¼zgÃ¼n Ã§alÄ±ÅŸtÄ±rmak:

KullanÄ±cÄ± tarayÄ±cÄ±dan https://seninsite.com giriyor.

Ä°stek NGINX containerâ€™Ä±na (443) dÃ¼ÅŸÃ¼yor.

NGINX â†’ WordPress+PHP-FPMâ€™e (9000).

WordPress DBâ€™den (3306) iÃ§erik Ã§ekiyor.

Cevap NGINX Ã¼zerinden kullanÄ±cÄ±ya dÃ¶nÃ¼yor.

Senaryoda NGINX ÅŸunlarÄ± saÄŸlÄ±yor:

GÃ¼venlik: WordPress direkt dÄ±ÅŸarÄ±ya aÃ§Ä±lmÄ±yor.

Performans: Statik dosyalarÄ± (resim, js, css) NGINX Ã§ok hÄ±zlÄ± verir.

SSL: Sertifika iÅŸini WPâ€™ye yÄ±kmazsÄ±n, NGINX halleder.

Ã–lÃ§eklenebilirlik: Ä°leride birden Ã§ok WP container koyarsÄ±n, NGINX yÃ¼k daÄŸÄ±tÄ±r.